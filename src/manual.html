<!DOCTYPE html>
<html>
  <head>
    <title>RepNotation Workbench User Guide</title>
    <style>
      * {
          box-sizing: border-box;
      }
      html, body {
          max-width: 80ch;
          margin: 0 auto;
          padding: 0;
          font-family: sans-serif;
          font-size: 18px;
          line-height: 1.3;
      }
      .version {
          font-weight: bold;
          font-size: 0.8rem;
          margin-top: -1.2rem;
      }
      h1 {
          counter-reset: section;
          counter-reset: subsection;
      }
      h2 {
          counter-increment: section;
          counter-reset: subsection;
      }
      h3 {
          counter-increment: subsection;
      }
      h2:before {
          content: counter(section);
          display: inline-block;
          position: relative;
          left: -1.5em;
          width: 0;
      }
      h3:before {
          content: counter(section) "." counter(subsection);
          margin-right: 1em;
      }
      .key {
          font-family: monospace;
          font-size: 0.9em;
          padding: 0.05em 0.2em;
          display: inline-block;
          background: #eee;
          border: 1px solid #aaa;
          border-radius: 2px;
      }
      th, td {
          text-align: left;
          vertical-align: top;
          padding: 0.1em 0.5em;
      }
    </style>
  </head>
  <body>
    <h1>RepNotation Workbench User Guide</h1>
    <div class="version">V ##VERSION## </div>
    <p>
      This document gives a brief overview of how to use the RepNotation Workbench.
      The Workbench is under heavy development right now, so the features as described in this manual
      might now behave differently, or no longer exist. Further, there may be features
      that are present in the Workbench that are not described in this manual.
    </p>

    <h2 id="hotkeys">Hotkeys</h2>
    <p>
      As a quick reference, the current hotkeys are:
    </p>
    <table>
      <tr><th>Hotkey</th><th>Action</th></tr>
      <tr><td><span class="key">R</span></td><td>Create a new Representation schema.</td></tr>
      <tr><td><span class="key">S</span></td><td>Create a new R-Scheme schema.</td></tr>
      <tr><td><span class="key">D</span></td><td>Create a new R-Dimension schema.</td></tr>
      <tr><td><span class="key">T</span></td><td>Create a new Token schema.</td></tr>
      <tr><td><span class="key">Q</span></td><td>Create a new Placeholder schema.</td></tr>
      <tr><td><span class="key">Ctrl</span> <span class="key">D</span></td><td>Duplicate the selected schemas.</td></tr>
      <tr><td><span class="key">C</span></td><td>Connect two schemas.</td></tr>
      <tr><td><span class="key">A</span></td><td>Connect two schemas by anchoring.</td></tr>
      <tr><td><span class="key">E</span></td><td>Connect two schemas by relation.</td></tr>
      <tr><td><span class="key">V</span></td><td>Remove all links between selected schemas.</td></tr>
      <tr><td><span class="key">X</span>/<span class="key">Backspace</span></td><td>Delete all selected schemas, and links connected to them.</td></tr>
    </table>
    <p>
      Creating new schemas puts them under your cursor.
    </p>
    <p>
      These are available when you have your cursor over the Model editor.
      See <a href="#toolbar">The Toolbar</a> and <a href="#model-editor">The Model Editor</a> for more details.
    </p>

    <h2 id="model-list">The Model List</h2>
    <p>
      On the left of the Workbench you have the model list. This list contains all the
      models you have built. Initially the list will be empty, but new models can be created
      by pressing the <button>New</button> button in the bottom left corner. All models are
      initially called 'Model'.
    </p>
    <p>
      Models appear in the left hand list in the order they are created. But you may reorder the
      Models by grabbing their 'handle' (the &vellip; to the left of the name) and dragging it
      into the desired position.
    </p>
    <p>
      Rather than creating a new Model from nothing, you can duplicate an existing Model, using
      the <button>Duplicate</button> button found next to the <button>New</button> button. This
      will make an exact copy of the currently viewed Model, except the name will have '(Copy)'
      after it. The Models are <em>entirely independent</em>: changes made in one will
      <em>not</em> affect the other.
    </p>
    <p>
      Models can be renamed by double-clicking on their existing name, and editing the name to be
      what you now want it to be. Several models can have the same name; this is perfectly fine
      for the Workbench, but potentially confusing for you, so this is not recommended.
    </p>
    <p>
      If the name of a Model is long, it will be truncated. The full name of the model is visible
      by hovering your cursor over the name.
    </p>
    <p>
      To switch between models, click on the model you wish to view. The currently viewed model
      be highlighted with a grey background, while all other models will have a white background.
    </p>
    <p>
      If you no longer need a model, you can delete it. This is done by making the model you wish
      to delete the viewed model (it will have a grey background in the model list), then clicking
      the <button>Delete</button> button in the bottom left, found next to the <button>Duplicate</button>
      button. You will be asked to confirm that you wish to delete the model.
      <strong>The model is permanently deleted. It cannot be recovered.</strong>
    </p>
    <p>
      Below the <button>New</button> and <button>Duplicate</button> buttons, we have buttons for
      importing and exporting Models. The <button>Export</button> button downloads a '.repn' file
      of the selected Model, with the name matching the Model's name. The <button>Import</button>
      button allows you to select a '.repn' file from your computer, and add the contained Model
      to the RepNotation Workbench.
    </p>
    <p>
      The Model list can be hidden using the 〈&nbsp;&nbsp; button that floats at the bottom right of the
      list. A &nbsp&nbsp;〉 button will appear in the bottom left of the screen; this can be used to show
      the Model list again.
    </p>


    <h2 id="toolbar">The Toolbar</h2>
    <p>
      Across the top of most of the Workbench (outside the Model list) there is the toolbar.
      All the core functionality of the Workbench can be accessed via buttons found here.
      We shall discuss each button in turn.
    </p>
    <p>
      Note that these buttons only work when there is an active model. If no model (in the model list)
      has a grey background, the buttons will not do anything.
    </p>
    <table>
      <tr><td><p><input type="button" value="Undo" /><br><input type="button" value="Redo"></p></td><td>
          <p>
            The first two buttons in the toolbar should be familiar: undo, and redo. These buttons act
            per Model, so each Model maintains a separate history. The history is lost when the Workbench
            is reloaded, and can only maintain 50 "steps". Any history further back is discarded. You can
            also undo using <span class="key">Cmd</span> <span class="key">Z</span>, and redo using
            <span class="key">Cmd</span> <span class="key">Shift</span> <span class="key">Z</span> or
            <span class="key">Cmd</span> <span class="key">Y</span>.
      </p></td></tr>
      <tr><td><p><input type="button" value="Representation" /><br><input type="button" value="Scheme" /><br><input type="button" value="Dimension" /><br><input type="button" value="Token" /><br><input type="button" value="Placeholder" /></p></td><td>
          <p>
            These five buttons create a new schema in the Model. The kind of schema
            created is determined by the label &ndash; Representation, (R-)Scheme, (R-)Dimension, Token, or Placeholder.
            The new schema is created at the 'origin', which is the top left of the Model editor (before
            zooming and panning). If any existing schemas were selected when this button is clicked, the
            created schema is automatically linked as a child of the selected schemas. The created schema
            becomes the new current selection.
      </p></td></tr>
      <tr><td><p><input type="button" value="Duplicate" /></p></td><td>
          <p>
            Creates new schemas in the model that are an exact copy of your current selection.
            If you have selected schemas with connections between them, these connections are duplicated.
            Any connections these schemas have to <emph>other</emph> schemas in the model are <emph>not</emph>
            duplicated. That is, the new schemas will always be disconnected from the rest of the model,
            but may be connected to each other. The newly created schemas are positions slightly offset from
            the schemas they were duplicated from, and they become the current selection.
      </p></td></tr>
      <tr><td><p><input type="button" value="Connect" /><br><input type="button" value="Anchor" /><br><input type="button" value="Relate" /></p></td><td>
          <p>
            These three buttons are used to connect schemas together. The first button creates a
            Hierarchy connection (the 'typical' connection in RepNotation), the second button
            creates an 'anchored' connection, and the third creates a 'relation' connection. When
            clicking these buttons, you must have exactly two schemas selected: more than two, or
            fewer than two, and these buttons have no effect. The 'direction' of the connection
            is determined by the order in which the schemas were selected: the first selected schema
            is the 'parent', while the second is the 'child'. The parent is connected from the
            bottom of the schema, while the child is connected from the top. If you have connected the
            schemas back to front, the connection will appear to 'cut through' the schemas; unlink them,
            select them in the opposite order, and click the button again to correct the direction.
      </p></td></tr>
      <tr><td><p><input type="button" value="Unlink" /></p></td><td>
          <p>
            Remove all the links between the selected schemas. Unlike the <input type="button" value="Connect" />
            and <input type="button" value="Anchor" /> buttons, you can have two <emph>or more</emph>
            schemas selected, and it will remove all the links between all the schemas in the selection.
            It does this for every type of link, whether hierarchical or anchoring.
      </p></td></tr>
      <tr><td><p><input type="button" value="Delete" /></p></td><td>
          <p>
            A dangerous button. This deletes the schemas currently selected, along with all the links
            attached to them. <strong>There is currently no undo. Delete is <emph>permanent</emph>.</strong>
      </p></td></tr>
      <tr><td><p>Grid&nbsp;<input type="checkbox" /></p></td><td>
          <p>
            Use this checkbox to toggle on or off the grid in the Model editor.
      </p></td></tr>
    </table>
    <p>
      After the buttons is a link to this manual.
    </p>

    <h2 id="model-editor">The Model Editor</h2>
    <p>
      Most of the screen in the Workbench is dedicated to the Model editor. Here is where the effect
      of clicking buttons in the <a href="#toolbar">Toolbar</a>, or pressing <a href="#hotkeys">Hotkeys</a>,
      will occur. Hotkeys are only active while your cursor is in the Model editor.
    </p>
    <p>
      Navigating the Model is largely done with the mouse. Clicking and dragging anywhere outside of
      a schema will move the 'view' around. The scroll wheel is used to zoom in and out. Clicking a schema
      will cause it to become the only selected schema. Shift-clicking an unselected schema will add it to
      the current selection, while shift-clicking a selected schema will remove it from the current selection.
      Holding shift while clicking and dragging outside of a schema creates a 'selection rectangle', which
      will add any schemas inside it to the current selection.
      Dragging any schema in a selection will move every schema in that selection.
    </p>
    <p>
      Schemas can be dragged around using the mouse. They can also be 'nudged' using the arrow keys;
      holding shift while nudging makes the movement smaller.
    </p>
    <p>
      When using the hotkeys, any 'schema creation' hotkey will cause the schema to be added under the cursor.
      This is different to the toolbar, in which clicking a 'schema creation' button will add the schema at
      the 'origin' of the Model.
    </p>
    <p>
      Sometimes it can be useful to have a background grid, on which you can position the schemas. You can
      hide or show this grid using the checkbox in the toolbar.
    </p>

    <h2 id="slots-inspector">The Slots Inspector</h2>
    <p>
      On the far right is the Slots inspector. Each schema in the Model has associated 'slots':
      each slot holds one particular piece of information about that schema. When one schema
      in the Model editor is selected, the Slots inspector displays the information for that one schema.
      If multiple schemas are selected, the panel is empty. If no schemas are selected, information about
      the entire model is shown.
    </p>
    <p>
      The information associated with a schema varies based on whether it is a Representation,
      R-Scheme, Dimension, or Token, so only some subset of these listed is available for each schema.
    </p>
    <p>TODO: DOCUMENT SLOTS</p>
    <p>
      The Slots inspector can be hidden using the &nbsp;&nbsp;〉 button that floats at the bottom left of the
      inspector. A 〈&nbsp;&nbsp; button will appear in the bottom right of the screen; this can be used to show
      the Slots inspector again.
    </p>
  </body>
</html>
